(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{1135:function(t,e,n){var content=n(1136);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(77).default)("1d31a8d0",content,!0,{sourceMap:!1})},1136:function(t,e,n){(e=n(76)(!1)).push([t.i,".bottom-sheet-transition-enter,.bottom-sheet-transition-leave-to{transform:translateY(100%)}.v-bottom-sheet.v-dialog{align-self:flex-end;border-radius:0;flex:0 1 auto;margin:0;overflow:visible}.v-bottom-sheet.v-dialog.v-bottom-sheet--inset{max-width:70%}@media only screen and (max-width:599px){.v-bottom-sheet.v-dialog.v-bottom-sheet--inset{max-width:none}}",""]),t.exports=e},1196:function(t,e,n){"use strict";n(58),n(59),n(61),n(94),n(71),n(93),n(67),n(62);var r=n(44),l=(n(1135),n(1177));function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=l.a.extend({name:"v-bottom-sheet",props:{inset:Boolean,maxWidth:{type:[String,Number],default:"auto"},transition:{type:String,default:"bottom-sheet-transition"}},computed:{classes:function(){return c(c({},l.a.options.computed.classes.call(this)),{},{"v-bottom-sheet":!0,"v-bottom-sheet--inset":this.inset})}}})},1532:function(t,e,n){"use strict";n.r(e);n(71),n(45),n(110),n(48);var r=n(52),l=n(107),o=n(60),c=n(54),d=n(42),v=n(51),f=n(49),m=n(103),h=n(9),_=n.n(h);function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var l=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var y=function(t,e,n,desc){var r,l=arguments.length,o=l<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(o=(l<3?r(o):l>3?r(e,n,o):r(e,n))||o);return l>3&&o&&Object.defineProperty(e,n,o),o},x=function(t){Object(o.a)(n,t);var e=C(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).createRequest=!1,t.value="",t.loading=!1,t}return Object(l.a)(n,[{key:"getAdministrator",value:function(){return null!==this.$store.state.admin.administrator&&void 0!==this.$store.state.admin.administrator}},{key:"getDate",value:function(){return _()(this.GetBillingAgreement.updatedAt).format("DD-MM-YYYY")}},{key:"getUpdateDate",value:function(t){return _()(t).format("DD MMM YYYY")}},{key:"onUpdateBilliReq",value:function(t,e){var n=this,r=this.$Message.loading("Action in progress ...");this.loading=!0,this.$apollo.mutate({mutation:m.Jc,variables:{id:e,value:t}}).then((function(t){r(),n.loading=!1,n.$Message.success("Billing Agreement Request Updated")})).catch((function(t){r(),n.loading=!1,n.$Message.error(t.message)}))}},{key:"onCreateBillingRequest",value:function(){var t=this,e=this.$Message.loading("Action in progress ...");this.loading=!0,this.$apollo.mutate({mutation:m.h,variables:{id:this.$route.params.id,value:this.value}}).then((function(n){e(),t.$Message.success("Billing Agreement Request has been submitted"),t.createRequest=!1,t.loading=!1})).catch((function(n){e(),t.loading=!1,t.$Message.error(n.message)}))}},{key:"onBillingChange",value:function(){console.log(this.GetBillingAgreement)}}]),n}(f.c);y([Object(f.d)("GetBillingAgreement")],x.prototype,"onBillingChange",null);var w=x=y([Object(f.a)({layout:"console",apollo:{GetBillingAgreement:{query:m.vb,variables:function(){return{id:this.$route.params.id}},pollInterval:3e3},GetBillingRequestForAgreement:{query:m.xb,variables:function(){return{id:this.$route.params.id}},pollInterval:3e3}}})],x),j=n(33),R=n(225),O=n.n(R),k=n(1196),component=Object(j.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"d-flex flex-column-fluid"},[n("div",{staticClass:" container-fluid "},[t._m(0),t._v(" "),n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[t.$apollo.queries.GetBillingAgreement.loading?n("div",{staticClass:"d-flex justify-content-center align-items-center m-20 w-100"},[n("div",{staticClass:"spinner spinner-primary spinner-lg mr-15"})]):t._e(),t._v(" "),n("div",{staticClass:"row"},[t.$apollo.queries.GetBillingAgreement.loading?t._e():n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"card card-custom gutter-b"},[n("div",{staticClass:"card-body d-flex p-0 card-rounded"},[n("div",{staticClass:"flex-grow-1 p-10 card-rounded flex-grow-1 bgi-no-repeat",staticStyle:{"background-color":"#663259","background-position":"calc(100% + 0.5rem) bottom","background-size":"auto 75%","background-image":"url(/media/svg/humans/custom-4.svg)"}},[n("h4",{staticClass:"text-inverse-danger mt-2 font-weight-bolder"},[t._v("Billing Agreement Details: "+t._s(t.getDate()))]),t._v(" "),t.GetBillingAgreement.collection?n("h6",{staticClass:"text-inverse-danger mt-2 font-weight-bolder"},[t._v("Collection: "+t._s(t.GetBillingAgreement.collection.name))]):t._e(),t._v(" "),n("div",{staticClass:"mt-5"},[n("div",{staticClass:"d-flex justify-content-between"},[n("span",{staticClass:"text-white font-size-h3"},[t._v("Activities")]),t._v(" "),n("span",{staticClass:"text-white font-size-h3 font-weight-boldest"},[t._v(t._s(t.GetBillingAgreement.state))])]),t._v(" "),n("div",{staticClass:"d-flex justify-content-between"},[n("span",{staticClass:"text-white font-size-h3"},[t._v("Sales")]),t._v(" "),n("span",{staticClass:"text-white font-size-h3 font-weight-boldest"},[t._v(t._s(t.GetBillingAgreement.type))])]),t._v(" "),n("div",{staticClass:"d-flex justify-content-between"},[n("span",{staticClass:"text-white font-size-h3"},[t._v("Releases")]),t._v(" "),n("span",{staticClass:"text-white font-size-h3 font-weight-boldest"},[t._v(t._s(t.GetBillingAgreement.value))])])])])])])]),t._v(" "),t.$apollo.queries.GetBillingRequestForAgreement.loading?t._e():n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header border-0 py-5 justify-content-between d-flex"},[t._m(1),t._v(" "),n("div",{staticClass:"card-toolbar"},[n("a",{staticClass:"btn btn-success font-weight-bolder font-size-sm",attrs:{href:"javascript:;"},on:{click:function(e){t.createRequest=!0}}},[t._v("Create Request")])])]),t._v(" "),n("div",{staticClass:"card-body"},t._l(t.GetBillingRequestForAgreement,(function(e){return n("div",{key:e.id,staticClass:"card m-3"},[n("div",{staticClass:"air__g6 pt-3"},[n("div",{staticClass:"air__g6__status",class:{"bg-danger":"REJECTED"===e.state,"bg-success":"APPROVED"===e.state,"bg-dark":"PENDING"===e.state}}),t._v(" "),n("div",{staticClass:"d-flex flex-nowrap align-items-center pb-3 pl-4 pr-4"},[n("div",{staticClass:"mr-auto"},[n("div",{staticClass:"text-uppercase font-size-h3 text-dark"},[t._v(t._s(e.value)+" %")])]),t._v(" "),n("div",{staticClass:"ml-1 text-danger"},[n("span",{staticClass:"badge timeline-badge-primary"},[t._v(t._s(e.state))])])]),t._v(" "),n("div",{staticClass:"py-3 bg-gray-1 pl-4 pr-4"},[n("div",{staticClass:"d-flex justify-content-between align-items-center"},[n("span",{staticClass:"text-muted"},[t._v("Updated On: "),n("span",{staticClass:"text-primary"},[t._v(t._s(t.getUpdateDate(e.updatedAt)))])]),t._v(" "),t.getAdministrator()&&"PENDING"===e.state?n("div",[n("a",{staticClass:"btn btn-light-success btn-sm font-weight-bolder font-size-sm",class:{"spinner spinner-darker-success spinner-left":t.loading},attrs:{href:"javascript:;"},on:{click:function(n){return t.onUpdateBilliReq("APPROVED",e.id)}}},[t._v("Accept")]),t._v(" "),n("a",{staticClass:"btn btn-light-danger btn-sm font-weight-bolder font-size-sm",class:{"spinner spinner-darker-success spinner-left":t.loading},attrs:{href:"javascript:;"},on:{click:function(n){return t.onUpdateBilliReq("REJECTED",e.id)}}},[t._v("Reject")])]):t._e()])])])])})),0)])])])])])])]),t._v(" "),n("v-bottom-sheet",{attrs:{inset:""},model:{value:t.createRequest,callback:function(e){t.createRequest=e},expression:"createRequest"}},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header border-0 d-flex justify-content-between align-items-center"},[n("h3",{staticClass:"card-title align-items-start flex-column"},[n("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.createRequest=!1}}},[n("i",{staticClass:"fas fa-arrow-left font-size-h3 text-primary"})]),t._v(" "),n("span",{staticClass:"card-label font-weight-bolder text-dark ml-6"},[t._v("Create Billing Request")])])]),t._v(" "),n("div",{staticClass:"card-body"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("label",[t._v("Enter Value Request")]),t._v(" "),n("a-input",{model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),n("small",{staticClass:"form-text text-muted"},[t._v(t._s(t.$t("store.storenameinfo")))])],1)]),t._v(" "),n("div",{staticClass:"col-md-6"})]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"p-3 bg-white"},[n("button",{staticClass:"btn btn-light-primary",class:{"spinner spinner-darker-success spinner-left":t.loading},attrs:{type:"button"},on:{click:t.onCreateBillingRequest}},[t._v("Add Billing Request")])])])])])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"subheader py-2 py-lg-4  subheader-transparent ",attrs:{id:"kt_subheader"}},[e("div",{staticClass:"d-flex align-items-center justify-content-between flex-wrap flex-sm-nowrap w-100"},[e("div",{staticClass:"d-flex align-items-center flex-wrap mr-2"},[e("h5",{staticClass:"text-dark font-weight-bold mt-2 mb-2 mr-5"},[this._v("Billing Agreements")]),this._v(" "),e("div",{staticClass:"subheader-separator subheader-separator-ver mt-2 mb-2 mr-5 bg-gray-200"}),this._v(" "),e("div",{staticClass:"d-flex align-items-center",attrs:{id:"kt_subheader_search"}})]),this._v(" "),e("div",{staticClass:"d-flex align-items-center"},[e("a",{attrs:{href:"#"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"card-title align-items-start flex-column"},[e("span",{staticClass:"card-label font-weight-bolder text-dark"},[this._v("Billing Agreement Requests")])])}],!1,null,null,null);e.default=component.exports;O()(component,{VBottomSheet:k.a})}}]);